{
  "name": "innogram",
  "private": true,
  "scripts": {
    "build": "turbo run build",
    "dev": "turbo run dev",
    "test": "turbo test",
    "lint": "turbo run lint",
    "format": "prettier --write \"**/*.{ts,tsx,md}\"",
    "check-types": "turbo run check-types",

    "// Project Setup": "",
    "setup": "./init-project.sh",
    "postinstall": "npm run build:shared-types && cd apps/core-server-app && npx prisma generate",
    "build:shared-types": "cd packages/shared-types && npm run build",

    "// Development - Apps run locally, databases in Docker": "",
    "docker:dev": "docker compose -f docker-compose.dev.yml up -d",
    "docker:dev:logs": "docker compose -f docker-compose.dev.yml logs -f",
    "docker:dev:down": "docker compose -f docker-compose.dev.yml down --remove-orphans",
    "docker:dev:clean": "docker compose -f docker-compose.dev.yml down  --remove-orphans -v",

    "auth:dev": "cd apps/auth-service && NODE_ENV=development npm run dev",
    "core:dev": "cd apps/core-server-app && NODE_ENV=development npm run dev",
    "client:dev": "cd apps/client-app && NODE_ENV=development npm run dev",
    "shared-types:dev": "cd packages/shared-types && npm run dev",

    "// Production - Everything in Docker": "",
    "docker:prod": "docker compose --env-file .env.production up --build -d",
    "docker:prod:logs": "docker compose --env-file .env.production logs -f",
    "docker:prod:down": "docker compose --env-file .env.production down --remove-orphans",
    "docker:prod:clean": "docker compose --env-file .env.production down  --remove-orphans -v",
    "docker:prod:build": "docker compose --env-file .env.production build --no-cache",

    "// Database Management": "",
    "db:push": "cd apps/core-server-app && npx prisma db push",
    "db:generate": "cd apps/core-server-app && npx prisma generate",
    "db:studio": "cd apps/core-server-app && npx prisma studio",
    "db:reset": "cd apps/core-server-app && npx prisma db push --force-reset",

    "// Debug Commands": "",
    "docker:check:ports": "docker compose --env-file .env.production ps && echo '--- Networks ---' && docker network ls | grep intern_project",
    "docker:force:cleanup": "docker compose --env-file .env.production down --remove-orphans && docker system prune -f --volumes && docker network prune -f",
    "prod:fresh": "npm run docker:force:clean && npm run docker:prod",

    "// Utilities": "",
    "install:all": "npm install",
    "install:force": "rm -rf node_modules apps/*/node_modules && npm install",
    "health:check": "curl -f http://localhost:3000 && curl -f http://localhost:4000/health && curl -f http://localhost:8000/health",
    "clean:all": "npm run docker:dev:clean && npm run docker:prod:clean && rm -rf node_modules apps/*/node_modules apps/*/.next apps/*/dist"
  },
  "devDependencies": {
    "prettier": "^3.6.2",
    "turbo": "^2.5.6",
    "typescript": "5.9.3"
  },
  "engines": {
    "node": ">=24.0.0"
  },
  "packageManager": "npm@11.5.1",
  "workspaces": [
    "apps/*",
    "packages/*"
  ]
}
